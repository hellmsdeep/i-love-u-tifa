<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pedido de namoro â€¢ Tifa</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#0f0f10;
      --bg2:#30000a;
      --accent:#ff4655;
      --accent2:#ffd166;
      --card-bg: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Poppins,system-ui,Arial;}
    body{
      display:flex;align-items:center;justify-content:center;
      background:radial-gradient(circle at 20% 20%, rgba(255,80,120,0.06), transparent 10%),
                 linear-gradient(135deg,var(--bg1),var(--bg2));
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:20px;
    }
    .stage{width:100%;max-width:920px;}
    .card{
      position:relative;
      height:520px;
      border-radius:18px;padding:36px;
      background:var(--card-bg);
      box-shadow:0 10px 40px rgba(0,0,0,0.6);
      overflow:hidden;
      backdrop-filter: blur(6px);
    }
    h1{font-family:Cinzel,serif;font-size:34px;margin:0 0 14px;color:var(--accent2)}
    p.lead{margin:0 0 30px;font-size:20px;opacity:0.95}

    .actions{position:relative;height:180px;border-radius:12px}

    button.big{
      appearance:none;border:0;padding:14px 28px;border-radius:12px;font-weight:600;font-size:18px;cursor:pointer;
      box-shadow:0 6px 18px rgba(0,0,0,0.45);transition:transform .12s ease, box-shadow .12s ease;
    }

    #yes{
      background:linear-gradient(90deg,var(--accent),#ff8aa0);color:white;
    }
    #yes:active{transform:translateY(2px);}

    #no{
      background:transparent;border:2px solid rgba(255,255,255,0.12);color:#fff;position:absolute;left:20px;top:20px;
    }

    .no-wrapper{position:absolute;left:0;top:0;right:0;bottom:0}

    .row{display:flex;gap:20px;align-items:center}

    .hint{position:absolute;right:18px;bottom:18px;font-size:13px;opacity:0.7}

    /* overlay shown after yes */
    .overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6));display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .35s ease}
    .overlay.show{opacity:1;pointer-events:auto}
    .popup{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));padding:30px;border-radius:16px;text-align:center;max-width:720px}
    .popup h2{margin:0 0 8px;font-family:Cinzel,serif;color:var(--accent)}
    .popup p{margin:0 0 18px;font-size:20px}

    /* hearts */
    .hearts{position:absolute;inset:0;pointer-events:none;overflow:hidden}
    .heart{position:absolute;width:18px;height:18px;transform:translate(-50%,-50%) rotate(-45deg);}
    .heart:before,.heart:after{content:'';position:absolute;width:18px;height:18px;border-radius:50%;background:linear-gradient(180deg,#ff6b81,#ff3055)}
    .heart:before{top:-9px;left:0}
    .heart:after{left:9px;top:0}

    /* small responsive tweaks */
    @media (max-width:600px){.card{height:620px;padding:22px}.actions{height:240px}.row{flex-direction:column;align-items:stretch}.hint{display:none}}
  </style>
</head>
<body>
  <div class="stage">
    <div class="card" id="card">
      <h1>Pedido especial</h1>
      <p class="lead">Tifa, <strong>vocÃª aceita namorar comigo?</strong></p>

      <div class="actions">
        <div class="row" style="margin-bottom:20px">
          <button id="yes" class="big">SIM ðŸ’–</button>
          <div style="flex:1"></div>
        </div>

        <div class="no-wrapper">
          <!-- o botÃ£o NÃƒO serÃ¡ posicionado dinamicamente dentro deste wrapper -->
          <button id="no" class="big">NÃƒO</button>
        </div>

        <div class="hint">Dica: tente clicar com o dedo â€” se for no PC, o botÃ£o gosta de brincar ;) </div>
      </div>

      <div class="overlay" id="overlay" aria-hidden="true">
        <div class="popup">
          <h2>ebaeba ðŸ’•</h2>
          <p>eu te amo, meu amor!</p>
          <button id="restart" class="big" style="background:transparent;border:2px solid rgba(255,255,255,0.12);">Fechar</button>
        </div>
      </div>

      <div class="hearts" id="hearts"></div>

      <!-- Substitua 'sienna.mp3' pelo caminho/URL do arquivo da mÃºsica "Sienna" â€” por motivos de direitos autorais nÃ£o incluo o arquivo. -->
      <audio id="music" src="sienna.mp3" preload="auto"></audio>
    </div>
  </div>

  <script>
    // script responsÃ¡vel pelo comportamento do botÃ£o "NÃƒO" e pelo resultado do "SIM"
    document.addEventListener('DOMContentLoaded', ()=>{
      const card = document.getElementById('card');
      const no = document.getElementById('no');
      const yes = document.getElementById('yes');
      const overlay = document.getElementById('overlay');
      const restart = document.getElementById('restart');
      const music = document.getElementById('music');
      const hearts = document.getElementById('hearts');

      // centraliza inicialmente o botÃ£o NÃƒO
      function placeNoCentered(){
        const wrapper = no.parentElement;
        const w = wrapper.clientWidth, h = wrapper.clientHeight;
        no.style.left = Math.max(12, (w - no.offsetWidth)/2) + 'px';
        no.style.top = Math.max(12, (h - no.offsetHeight)/2) + 'px';
      }

      function moveNoRandom(){
        const wrapper = no.parentElement;
        const w = wrapper.clientWidth, h = wrapper.clientHeight;
        const bw = no.offsetWidth, bh = no.offsetHeight;
        // gerar posiÃ§Ã£o que mantenha o botÃ£o dentro
        const x = Math.random() * Math.max(0, w - bw - 8) + 4;
        const y = Math.random() * Math.max(0, h - bh - 8) + 4;
        no.style.transition = 'left 0.18s ease, top 0.18s ease';
        no.style.left = x + 'px';
        no.style.top = y + 'px';
      }

      // evita que o botÃ£o seja clicado com facilidade
      no.addEventListener('mouseenter', ()=>{
        moveNoRandom();
      });
      no.addEventListener('click', (e)=>{
        e.preventDefault();
        moveNoRandom();
      });

      // tambÃ©m tapa o foco de teclado se usar tab
      no.addEventListener('focus', ()=>moveNoRandom());

      // comportamento do SIM
      yes.addEventListener('click', async ()=>{
        // anima cor e som â€” o play acontece em resposta ao clique (gesto do usuÃ¡rio)
        try{
          await music.play();
        }catch(err){
          // se algo falhar, nÃ£o trava; o usuÃ¡rio pode ativar o som manualmente
          console.warn('nÃ£o foi possÃ­vel tocar automaticamente:', err);
        }
        overlay.classList.add('show');
        overlay.setAttribute('aria-hidden','false');
        spawnHearts(18);
      });

      restart.addEventListener('click', ()=>{
        overlay.classList.remove('show');
        overlay.setAttribute('aria-hidden','true');
        // pausa a mÃºsica e volta ao inÃ­cio
        music.pause(); music.currentTime = 0;
      });

      // cria pequenos coraÃ§Ãµezinhos que sobem
      function spawnHearts(count){
        for(let i=0;i<count;i++){
          const el = document.createElement('div');
          el.className = 'heart';
          const startX = Math.random()*100; // percent
          const startY = 90 + Math.random()*10; // comeÃ§ar perto da base
          el.style.left = startX + '%';
          el.style.top = startY + '%';
          hearts.appendChild(el);

          // anima
          const dur = 2200 + Math.random()*1600;
          const endY = -20 - Math.random()*40;
          el.animate([
            {transform: 'translateY(0) scale(0.9)', opacity:1},
            {transform: `translateY(${endY}%) scale(1.1)`, opacity:0}
          ],{duration:dur,easing:'cubic-bezier(.2,.8,.2,1)'}).onfinish = ()=>el.remove();
        }
      }

      // garante posicionamento inicial
      window.addEventListener('resize', ()=>placeNoCentered());
      placeNoCentered();

      // acessibilidade simples: tecla N tambÃ©m brinca
      document.addEventListener('keydown', (e)=>{
        if(e.key.toLowerCase()==='n') moveNoRandom();
      });
    });
  </script>
</body>
</html>
